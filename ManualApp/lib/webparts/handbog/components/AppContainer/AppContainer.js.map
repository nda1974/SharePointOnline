{"version":3,"sources":["webparts/handbog/components/AppContainer/AppContainer.tsx"],"names":[],"mappings":"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","file":"webparts/handbog/components/AppContainer/AppContainer.js","sourcesContent":["import * as React from 'react';\r\nimport { IWebPartContext } from \"@microsoft/sp-webpart-base\";\r\nimport { IAppContainerProps } from '../AppContainer/IAppContainerProps';\r\nimport { IAppContainerState } from '../AppContainer/IAppContainerState';\r\nimport SearchInputContainer from '../SearchInputContainer/SearchInputContainer';\r\nimport SearchResultContainer from '../SearchResultContainer/SearchResultContainer';\r\nimport RefinementPanel from '../RefinementPanel/RefinementPanel'\r\nimport SPSearchService from '../../Services/SPSearchService'\r\n\r\nimport { ISearchResult,ISearchResults, IRefinementFilter, IManualItem } from '../../ISearchResults' \r\n// import { ISearchResult } from '../../../../../lib/webparts/manual/ISearchResults';\r\nexport default class AppContainer extends React.Component<IAppContainerProps, IAppContainerState> {\r\n    \r\n    private test:any;\r\n    // private wpContext:IWebPartContext;\r\n    public constructor(props: IAppContainerProps, state: IAppContainerState){  \r\n            super(props);  \r\n            // this.wpContext=webPartCtx;\r\n\r\n            this.state = {\r\n                        refinementFilters:[],\r\n                        queryText:'',\r\n                        results: { \r\n                            RefinementResults: [], \r\n                            RelevantResults: [] \r\n                            }\r\n                        };  \r\n\r\n        \r\n                    // this.handler = this.handler.bind(this)\r\n                    // this.onChildChanged= this.onChildChanged.bind(this)\r\n                    this.onQueryTextChanged= this.onQueryTextChanged.bind(this);\r\n                    this.onRefinementFiltersChanged= this.onRefinementFiltersChanged.bind(this);\r\n                    this.test=this.state.results.RelevantResults;\r\n    }\r\n                \r\n\r\n                onQueryTextChanged(newState) {\r\n                this.setState({ queryText: newState })\r\n                }\r\n                \r\n                onRefinementFiltersChanged(newState?:string) {\r\n                    if (newState==null) {\r\n                        let filters:string[]=this.state.refinementFilters;\r\n                        filters=[];\r\n                        this.setState({ refinementFilters: filters })        \r\n                    } else {\r\n                        let filters:string[]=[];\r\n                        filters.push(newState)\r\n                        this.setState({ refinementFilters: filters })        \r\n                    }\r\n                    \r\n                \r\n                \r\n                }\r\n            \r\n              \r\n    \r\n        public render(): React.ReactElement<IAppContainerProps> {\r\n            \r\n            if(this.props.manualType==undefined){\r\n                return(<div>Fisk</div>);\r\n            }\r\n\r\n            let ss: SPSearchService=new SPSearchService(this.props.webPartContext)\r\n            \r\n                \r\n\r\n            let searchResult:Promise<ISearchResults>=ss.search(this.state.queryText,this.state.refinementFilters,this.props.manualType);\r\n            // let searchResult:Promise<ISearchResults>=SPSearchService.search(this.state.queryText,this.state.refinementFilters);\r\n            // searchResult.then(\r\n            //     (data:any)=>{this.setState({results:data})}\r\n            // );\r\n            let results: ISearchResults = {\r\n                RelevantResults : [],\r\n                RefinementResults: [],\r\n                TotalRows: 0,\r\n            };\r\n\r\n            searchResult.then(\r\n                (data:ISearchResults)=>{this.setState({results:data})}\r\n\r\n            );\r\n            \r\n            return (\r\n                <div className=\"ms-Grid\">    \r\n              \r\n                <div className=\"ms-Grid-row\">\r\n                \r\n                    <div className=\"ms-Grid-col ms-sm12 ms-md12 ms-lg12\">\r\n                        <SearchInputContainer  description='' callbackSetAppContainerQueryString={(newState) => this.onQueryTextChanged(newState) }/>\r\n                    </div>\r\n                \r\n                \r\n                </div>\r\n              \r\n                \r\n                <div className=\"ms-Grid-row\">\r\n                    <div className=\"ms-Grid-col ms-sm6\">       \r\n                        {/* <RefinementPanel refiners={this.state.results.RefinementResults} refinementFilters={this.state.refinementFilters} callbackSetRefinementFilters={(newState) => this.onRefinementFiltersChanged(newState) }/> */}\r\n                        \r\n                        <RefinementPanel refiners={this.state.results.RefinementResults}  \r\n                                            callbackSetRefinementFilters={(newState) => this.onRefinementFiltersChanged(newState) }\r\n                                            callbackClearRefinementFilters={() => this.onRefinementFiltersChanged(null) }/>\r\n                    </div>\r\n                    <div className=\"ms-Grid-col ms-sm6\">\r\n                    <SearchResultContainer results={this.state.results.RelevantResults} />\r\n                    </div>\r\n                \r\n                </div>\r\n{/* \r\n                <div className=\"ms-Grid-row\">\r\n                \r\n                    <div className=\"ms-Grid-col ms-sm12\">\r\n                        <SearchResultContainer results={this.state.results.RelevantResults} />\r\n                    </div>\r\n                </div> */}\r\n\r\n\r\n\r\n\r\n\r\n            \r\n                                    \r\n                    <p>This Query Text state {this.state.queryText}</p>\r\n                    <p>This Refinementfiltes state  {this.state.refinementFilters.map((item,key)=>item)}</p>\r\n                    \r\n                    \r\n                    \r\n                    \r\n                    \r\n                    {/* <SearchResultContainer results={res}/> */}\r\n\r\n                    \r\n\r\n\r\n                                \r\n\r\n            </div>\r\n            );\r\n        }\r\n  }"],"sourceRoot":"..\\..\\..\\..\\..\\src"}