{"version":3,"file":"Customizer.js","sourceRoot":"../src/","sources":["Customizer.tsx"],"names":[],"mappings":";;;AAAA,6BAA+B;AAC/B,sCAAwC;AACxC,iDAAgD;AAgChD;;;;;;;;;;;GAWG;AACH;IAAgC,sCAAiD;IAW/E,kCAAkC;IAClC,oBAAY,KAAuB,EAAE,OAAY;QAAjD,YACE,kBAAM,KAAK,CAAC,SAGb;QADC,KAAI,CAAC,KAAK,GAAG,KAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;;IACtD,CAAC;IAEM,oCAAe,GAAtB;QACE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;IACpB,CAAC;IAED,kCAAkC;IAC3B,8CAAyB,GAAhC,UAAiC,QAA0B,EAAE,UAAe;QAC1E,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC,CAAC;IAC9D,CAAC;IAEM,2BAAM,GAAb;QACE,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IAClD,CAAC;IAEO,sCAAiB,GAAzB,UAA0B,KAAuB,EAAE,OAAyB;QAMpE,IAAA,mBAAqD,EAArD,mDAAqD,CAAW;QAChE,IAAA,0BAAyD,EAAzD,kDAAyD,CAAa;QAE5E,MAAM,CAAC;YACL,aAAa,uBACR,wBAAwB,EACxB,yBAAyB,CAC7B;SACF,CAAC;IACJ,CAAC;IA7Ca,uBAAY,GAEtB;QACF,aAAa,EAAE,SAAS,CAAC,MAAM;KAChC,CAAC;IAEY,4BAAiB,GAE3B,UAAU,CAAC,YAAY,CAAC;IAsC9B,iBAAC;CAAA,AA/CD,CAAgC,6BAAa,GA+C5C;AA/CY,gCAAU","sourcesContent":["import * as React from 'react';\r\nimport * as PropTypes from 'prop-types';\r\nimport { BaseComponent } from './BaseComponent';\r\n\r\n/**\r\n * Settings interface.\r\n *\r\n * @internal\r\n */\r\nexport interface ISettings {\r\n  // tslint:disable-next-line:no-any\r\n  [key: string]: any;\r\n}\r\n\r\n/**\r\n * Customizer component props.\r\n *\r\n * @public\r\n */\r\nexport interface ICustomizerProps {\r\n  componentRef?: () => void;\r\n\r\n  settings: ISettings;\r\n}\r\n\r\n/**\r\n * Customizer component state.\r\n *\r\n * @internal\r\n */\r\nexport interface ICustomizerState {\r\n  injectedProps?: ISettings;\r\n}\r\n\r\n/**\r\n * The Customizer component allows for default props to be mixed into components which\r\n * are decorated with the customizable() decorator. This enables injection scenarios like:\r\n *\r\n * 1. render svg icons instead of the icon font within all buttons\r\n * 2. inject a custom theme object into a component\r\n *\r\n * Props are provided via the settings prop, which should be a json map which contains 1 or more\r\n * name/value pairs representing injectable props.\r\n *\r\n * @public\r\n */\r\nexport class Customizer extends BaseComponent<ICustomizerProps, ICustomizerState> {\r\n  public static contextTypes: {\r\n    injectedProps: PropTypes.Requireable<{}>;\r\n  } = {\r\n    injectedProps: PropTypes.object\r\n  };\r\n\r\n  public static childContextTypes: {\r\n    injectedProps: PropTypes.Requireable<{}>;\r\n  } = Customizer.contextTypes;\r\n\r\n  // tslint:disable-next-line:no-any\r\n  constructor(props: ICustomizerProps, context: any) {\r\n    super(props);\r\n\r\n    this.state = this._getInjectedProps(props, context);\r\n  }\r\n\r\n  public getChildContext(): ICustomizerState {\r\n    return this.state;\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  public componentWillReceiveProps(newProps: ICustomizerProps, newContext: any): void {\r\n    this.setState(this._getInjectedProps(newProps, newContext));\r\n  }\r\n\r\n  public render(): React.ReactElement<{}> {\r\n    return React.Children.only(this.props.children);\r\n  }\r\n\r\n  private _getInjectedProps(props: ICustomizerProps, context: ICustomizerState): {\r\n    injectedProps: {\r\n      // tslint:disable-next-line:no-any\r\n      [x: string]: any;\r\n    };\r\n  } {\r\n    let { settings: injectedPropsFromSettings = {} as ISettings } = props;\r\n    let { injectedProps: injectedPropsFromContext = {} as ISettings } = context;\r\n\r\n    return {\r\n      injectedProps: {\r\n        ...injectedPropsFromContext,\r\n        ...injectedPropsFromSettings\r\n      }\r\n    };\r\n  }\r\n}\r\n"]}