{"version":3,"sources":["ResolvedApiItem.ts"],"names":[],"mappings":";AAAA,4FAA4F;AAC5F,2DAA2D;;AAG3D,iDAAgD;AAGhD,iDAA4C;AAG5C;;;GAGG;AACH;IAiEE,yBACE,IAAiB,EACjB,OAAsB,EACtB,OAAsB,EACtB,iBAAgC,EAChC,MAAe,EACf,MAA0C,EAC1C,cAA6B,EAC7B,UAAsB,EACtB,OAAgB;QAChB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,iBAAiB,GAAG,iBAAiB,CAAC;QAC3C,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IACzB,CAAC;IAtED;;;OAGG;IACW,iCAAiB,GAA/B,UAAgC,OAAgB;QAC9C,MAAM,CAAC,IAAI,eAAe,CACxB,OAAO,CAAC,IAAI,EACZ,OAAO,CAAC,aAAa,CAAC,OAAO,EAC7B,OAAO,CAAC,aAAa,CAAC,OAAO,EAC7B,OAAO,CAAC,aAAa,CAAC,iBAAiB,EACvC,OAAO,CAAC,aAAa,CAAC,UAAU,KAAK,uBAAU,CAAC,IAAI,EACpD,OAAO,CAAC,aAAa,CAAC,UAAU,EAChC,OAAO,CAAC,aAAa,CAAC,cAAc,EACpC,OAAO,CAAC,aAAa,CAAC,UAAU,EAChC,OAAO,CACR,CAAC;IACJ,CAAC;IAED;;;OAGG;IACW,8BAAc,GAA5B,UAA6B,OAAgB;QAC3C,IAAI,UAAU,GAAsC,SAAS,CAAC;QAC9D,IAAI,cAAc,GAAkB,SAAS,CAAC;QAC9C,MAAM,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;YACrB,KAAK,UAAU;gBACb,UAAU,GAAG,OAAO,CAAC,UAAU,CAAC;gBAChC,cAAc,GAAG,OAAO,CAAC,WAAW,CAAC,WAAW,CAAC;gBACjD,KAAK,CAAC;YACR,KAAK,QAAQ;gBACX,UAAU,GAAG,OAAO,CAAC,UAAU,CAAC;gBAChC,cAAc,GAAG,OAAO,CAAC,WAAW,CAAC,WAAW,CAAC;gBACjD,KAAK,CAAC;YACR;gBACE,KAAK,CAAC;QACV,CAAC;QAED,MAAM,CAAC,IAAI,eAAe,CACxB,qBAAW,CAAC,iBAAiB,CAAC,OAAO,CAAC,IAAI,CAAC,EAC3C,OAAO,CAAC,OAAO,EACf,OAAO,CAAC,OAAO,EACf,OAAO,CAAC,iBAAiB,EACzB,OAAO,CAAC,MAAM,EACd,UAAU,EACV,cAAc,EACd,uBAAU,CAAC,MAAM,EACjB,SAAS,CACV,CAAC;IACJ,CAAC;IAsBH,sBAAC;AAAD,CArFA,AAqFC,IAAA","file":"ResolvedApiItem.js","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\r\n// See LICENSE in the project root for license information.\r\n\r\nimport AstItem, { AstItemKind } from './ast/AstItem';\r\nimport { ReleaseTag } from './aedoc/ReleaseTag';\r\nimport { IDocElement } from './markup/OldMarkup';\r\nimport { ApiItem } from './api/ApiItem';\r\nimport ApiJsonFile from './api/ApiJsonFile';\r\nimport { IAedocParameter } from './aedoc/ApiDocumentation';\r\n\r\n/**\r\n * A class to abstract away the difference between an item from our public API that could be\r\n * represented by either an AstItem or an ApiItem that is retrieved from a JSON file.\r\n */\r\nexport default class ResolvedApiItem {\r\n  public kind: AstItemKind;\r\n  public summary: IDocElement[];\r\n  public remarks: IDocElement[];\r\n  public deprecatedMessage: IDocElement[];\r\n  public releaseTag: ReleaseTag;\r\n  public isBeta: boolean;\r\n  public params: {[name: string]: IAedocParameter};\r\n  public returnsMessage: IDocElement[];\r\n  /**\r\n   * This property will either be an AstItem or undefined.\r\n   */\r\n  public astItem: AstItem;\r\n\r\n  /**\r\n   * A function to abstract the construction of a ResolvedApiItem instance\r\n   * from an AstItem.\r\n   */\r\n  public static createFromAstItem(astItem: AstItem): ResolvedApiItem {\r\n    return new ResolvedApiItem(\r\n      astItem.kind,\r\n      astItem.documentation.summary,\r\n      astItem.documentation.remarks,\r\n      astItem.documentation.deprecatedMessage,\r\n      astItem.documentation.releaseTag === ReleaseTag.Beta,\r\n      astItem.documentation.parameters,\r\n      astItem.documentation.returnsMessage,\r\n      astItem.documentation.releaseTag,\r\n      astItem\r\n    );\r\n  }\r\n\r\n  /**\r\n   * A function to abstract the construction of a ResolvedApiItem instance\r\n   * from a JSON object that symbolizes an ApiItem.\r\n   */\r\n  public static createFromJson(docItem: ApiItem): ResolvedApiItem {\r\n    let parameters: {[name: string]: IAedocParameter} = undefined;\r\n    let returnsMessage: IDocElement[] = undefined;\r\n    switch (docItem.kind) {\r\n      case 'function':\r\n        parameters = docItem.parameters;\r\n        returnsMessage = docItem.returnValue.description;\r\n        break;\r\n      case 'method':\r\n        parameters = docItem.parameters;\r\n        returnsMessage = docItem.returnValue.description;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    return new ResolvedApiItem(\r\n      ApiJsonFile.convertJsonToKind(docItem.kind),\r\n      docItem.summary,\r\n      docItem.remarks,\r\n      docItem.deprecatedMessage,\r\n      docItem.isBeta,\r\n      parameters,\r\n      returnsMessage,\r\n      ReleaseTag.Public,\r\n      undefined\r\n    );\r\n  }\r\n\r\n  private constructor(\r\n    kind: AstItemKind,\r\n    summary: IDocElement[],\r\n    remarks: IDocElement[],\r\n    deprecatedMessage: IDocElement[],\r\n    isBeta: boolean,\r\n    params:  {[name: string]: IAedocParameter},\r\n    returnsMessage: IDocElement[],\r\n    releaseTag: ReleaseTag,\r\n    astItem: AstItem) {\r\n    this.kind = kind;\r\n    this.summary = summary;\r\n    this.remarks = remarks;\r\n    this.deprecatedMessage = deprecatedMessage;\r\n    this.isBeta = isBeta;\r\n    this.params = params;\r\n    this.returnsMessage = returnsMessage;\r\n    this.releaseTag = releaseTag;\r\n    this.astItem = astItem;\r\n  }\r\n}\r\n"],"sourceRoot":"..\\src"}