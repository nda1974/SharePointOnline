{"version":3,"file":"Breadcrumb.js","sourceRoot":"../src/","sources":["components/Breadcrumb/Breadcrumb.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport {\n  BaseComponent,\n  autobind,\n  css,\n  getRTL\n} from '../../Utilities';\nimport { FocusZone, FocusZoneDirection } from '../../FocusZone';\nimport { Link } from '../../Link';\nimport { Icon } from '../../Icon';\nimport { IconButton } from '../../Button';\nimport { IBreadcrumbProps, IBreadcrumbItem } from './Breadcrumb.Props';\nimport { DirectionalHint } from '../../common/DirectionalHint';\nimport { ResizeGroup } from '../../ResizeGroup';\nimport { TooltipHost, TooltipOverflowMode } from '../../Tooltip';\n\nimport * as stylesImport from './Breadcrumb.scss';\nconst styles: any = stylesImport;\n\nexport interface IBreadCrumbData {\n  props: IBreadcrumbProps;\n  renderedItems: IBreadcrumbItem[];\n  renderedOverflowItems: IBreadcrumbItem[];\n}\n\nconst OVERFLOW_KEY = 'overflow';\n\nexport class Breadcrumb extends BaseComponent<IBreadcrumbProps, any> {\n  public static defaultProps: IBreadcrumbProps = {\n    items: [],\n    maxDisplayedItems: 999\n  };\n\n  constructor(props: IBreadcrumbProps) {\n    super(props);\n  }\n\n  public render() {\n    const { onReduceData = this._onReduceData, maxDisplayedItems, items } = this.props;\n    const breadCrumbData: IBreadCrumbData = {\n      props: this.props,\n      renderedItems: items.slice(-maxDisplayedItems!),\n      renderedOverflowItems: items.slice(0, -maxDisplayedItems!)\n    };\n\n    return (\n      <ResizeGroup\n        onRenderData={ this._onRenderBreadcrumb }\n        onReduceData={ onReduceData }\n        data={ breadCrumbData }\n      />\n    );\n  }\n\n  @autobind\n  private _onReduceData(data: IBreadCrumbData): IBreadCrumbData | undefined {\n    let { renderedItems, renderedOverflowItems } = data;\n    let movedItem = renderedItems[0];\n    renderedItems = renderedItems.slice(1);\n\n    renderedOverflowItems = [...renderedOverflowItems, movedItem];\n\n    if (movedItem !== undefined) {\n      return { ...data, renderedItems, renderedOverflowItems };\n    }\n  }\n\n  @autobind\n  private _onRenderBreadcrumb(data: IBreadCrumbData) {\n    let { className, ariaLabel, onRenderItem = this._onRenderItem } = data.props;\n    let { renderedOverflowItems, renderedItems } = data;\n\n    let contextualItems = renderedOverflowItems.map(\n      (item, index) => ({\n        name: item.text,\n        key: item.key,\n        onClick: item.onClick ? this._onBreadcrumbClicked.bind(this, item) : null,\n        href: item.href\n      })\n    );\n\n    return (\n      <div\n        className={ css('ms-Breadcrumb', className, styles.root) }\n        ref='renderingArea'\n        role='navigation'\n        aria-label={ ariaLabel }\n      >\n        <FocusZone direction={ FocusZoneDirection.horizontal } >\n          <ol className={ css('ms-Breadcrumb-list', styles.list) }>\n            { renderedOverflowItems && renderedOverflowItems.length !== 0 && (\n              <li className={ css('ms-Breadcrumb-overflow', styles.overflow) } key={ OVERFLOW_KEY } ref={ OVERFLOW_KEY }>\n                <IconButton\n                  className={ css('ms-Breadcrumb-overflowButton', styles.overflowButton) }\n                  iconProps={ { iconName: 'More' } }\n                  role='button'\n                  aria-haspopup='true'\n                  onRenderMenuIcon={ () => null }\n                  menuProps={ {\n                    items: contextualItems,\n                    directionalHint: DirectionalHint.bottomLeftEdge\n                  } }\n                />\n                { Icon({\n                  className: css('ms-Breadcrumb-chevron', styles.chevron),\n                  iconName: getRTL() ? 'ChevronLeft' : 'ChevronRight'\n                }) }\n              </li>\n            ) }\n            { renderedItems.map(\n              (item, index) => (\n                <li className={ css('ms-Breadcrumb-listItem', styles.listItem) } key={ item.key || String(index) } ref={ item.key || String(index) }>\n                  { onRenderItem(item, this._onRenderItem) }\n                  <Icon\n                    className={ css('ms-Breadcrumb-chevron', styles.chevron) }\n                    iconName={ getRTL() ? 'ChevronLeft' : 'ChevronRight' } />\n                </li>\n              )) }\n          </ol>\n        </FocusZone>\n      </div>\n    );\n  }\n\n  @autobind\n  private _onRenderItem(item: IBreadcrumbItem) {\n    if (item.onClick || item.href) {\n      return (\n        <Link\n          className={ css('ms-Breadcrumb-itemLink', styles.itemLink) }\n          href={ item.href }\n          aria-current={ item.isCurrentItem ? 'page' : null }\n          onClick={ this._onBreadcrumbClicked.bind(this, item) }>\n          <TooltipHost\n            content={ item.text }\n            overflowMode={ TooltipOverflowMode.Parent }\n          >\n            { item.text }\n          </TooltipHost>\n        </Link>\n      );\n    } else {\n      return (\n        <span className={ css('ms-Breadcrumb-item', styles.item) }>\n          <TooltipHost\n            content={ item.text }\n            overflowMode={ TooltipOverflowMode.Parent }\n          >\n            { item.text }\n          </TooltipHost>\n        </span>\n      );\n    }\n  }\n\n  @autobind\n  private _onBreadcrumbClicked(item: IBreadcrumbItem, ev: React.MouseEvent<HTMLElement>) {\n    if (item.onClick) {\n      item.onClick(ev, item);\n    }\n  }\n}\n"]}