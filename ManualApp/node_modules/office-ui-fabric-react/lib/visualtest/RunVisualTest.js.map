{"version":3,"file":"RunVisualTest.js","sourceRoot":"../src/","sources":["visualtest/RunVisualTest.ts"],"names":[],"mappings":"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","sourcesContent":["\nimport { Casper, IPhantomCSS } from './PhantomCssInterface';\nimport { IRunVisualTest } from './IRunVisualTest';\ndeclare var phantomcss: IPhantomCSS;\ndeclare var casper: Casper;\n\nexport function defaultScreenshot(params: IRunVisualTest) {\n  let imageSelector = params.imageSelector || params.selector;\n\n  casper.then(() => {\n    phantomcss.screenshot(imageSelector, params.fileName + '_default');\n  });\n  if (params.childParams) {\n    params.childParams.commands.forEach(commandList => {\n      commandList(params.childParams!);\n    });\n  }\n}\n\nexport function mouseMoveScreenshot(params: IRunVisualTest) {\n  let imageSelector = params.imageSelector || params.selector;\n\n  casper.then(function () {\n    this.mouse.move(params.selector);\n    phantomcss.screenshot(imageSelector, params.fileName + '_mouseMove');\n  });\n  if (params.childParams) {\n    params.childParams.commands.forEach(commandList => {\n      commandList(params.childParams!);\n    });\n  }\n}\n\nexport function mouseDownScreenshot(params: IRunVisualTest) {\n  let imageSelector = params.imageSelector || params.selector;\n\n  casper.then(function () {\n    this.mouse.down(params.selector);\n    phantomcss.screenshot(imageSelector, params.fileName + '_mouseDown');\n  });\n  if (params.childParams) {\n    params.childParams.commands.forEach(commandList => {\n      commandList(params.childParams!);\n    });\n  }\n}\nexport function mouseClickScreenshot(params: IRunVisualTest) {\n  let imageSelector = params.imageSelector || params.selector;\n\n  casper.then(function () {\n    this.click(params.selector);\n    phantomcss.screenshot(imageSelector, params.fileName + '_mouseClick');\n  });\n  casper.then(function () {\n    this.click(params.selector);\n  });\n  if (params.childParams) {\n    params.childParams.commands.forEach(commandList => {\n      commandList(params.childParams!);\n    });\n  }\n}\n\nexport function mouseSingleClickScreenshot(params: IRunVisualTest) {\n  params.imageSelector = params.imageSelector || params.selector;\n\n  casper.then(function () {\n    this.click(params.selector);\n  });\n  if (params.childParams) {\n    params.childParams.commands.forEach(commandList => {\n      commandList(params.childParams!);\n    });\n  }\n}\nexport function testRunner(componentIds: IRunVisualTest[]) {\n  componentIds.forEach(element => {\n    element.commands.forEach(command => {\n      command(element);\n    });\n  });\n}"]}