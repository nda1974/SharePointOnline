{"version":3,"file":"RunVisualTest.js","sourceRoot":"../src/","sources":["visualtest/RunVisualTest.ts"],"names":[],"mappings":";;;IAMA,2BAAkC,MAAsB;QACtD,IAAI,aAAa,GAAG,MAAM,CAAC,aAAa,IAAI,MAAM,CAAC,QAAQ,CAAC;QAE5D,MAAM,CAAC,IAAI,CAAC;YACV,UAAU,CAAC,UAAU,CAAC,aAAa,EAAE,MAAM,CAAC,QAAQ,GAAG,UAAU,CAAC,CAAC;QACrE,CAAC,CAAC,CAAC;QACH,EAAE,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC;YACvB,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAA,WAAW;gBAC7C,WAAW,CAAC,MAAM,CAAC,WAAY,CAAC,CAAC;YACnC,CAAC,CAAC,CAAC;QACL,CAAC;IACH,CAAC;IAXD,8CAWC;IAED,6BAAoC,MAAsB;QACxD,IAAI,aAAa,GAAG,MAAM,CAAC,aAAa,IAAI,MAAM,CAAC,QAAQ,CAAC;QAE5D,MAAM,CAAC,IAAI,CAAC;YACV,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YACjC,UAAU,CAAC,UAAU,CAAC,aAAa,EAAE,MAAM,CAAC,QAAQ,GAAG,YAAY,CAAC,CAAC;QACvE,CAAC,CAAC,CAAC;QACH,EAAE,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC;YACvB,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAA,WAAW;gBAC7C,WAAW,CAAC,MAAM,CAAC,WAAY,CAAC,CAAC;YACnC,CAAC,CAAC,CAAC;QACL,CAAC;IACH,CAAC;IAZD,kDAYC;IAED,6BAAoC,MAAsB;QACxD,IAAI,aAAa,GAAG,MAAM,CAAC,aAAa,IAAI,MAAM,CAAC,QAAQ,CAAC;QAE5D,MAAM,CAAC,IAAI,CAAC;YACV,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YACjC,UAAU,CAAC,UAAU,CAAC,aAAa,EAAE,MAAM,CAAC,QAAQ,GAAG,YAAY,CAAC,CAAC;QACvE,CAAC,CAAC,CAAC;QACH,EAAE,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC;YACvB,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAA,WAAW;gBAC7C,WAAW,CAAC,MAAM,CAAC,WAAY,CAAC,CAAC;YACnC,CAAC,CAAC,CAAC;QACL,CAAC;IACH,CAAC;IAZD,kDAYC;IACD,8BAAqC,MAAsB;QACzD,IAAI,aAAa,GAAG,MAAM,CAAC,aAAa,IAAI,MAAM,CAAC,QAAQ,CAAC;QAE5D,MAAM,CAAC,IAAI,CAAC;YACV,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YAC5B,UAAU,CAAC,UAAU,CAAC,aAAa,EAAE,MAAM,CAAC,QAAQ,GAAG,aAAa,CAAC,CAAC;QACxE,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,IAAI,CAAC;YACV,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QAC9B,CAAC,CAAC,CAAC;QACH,EAAE,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC;YACvB,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAA,WAAW;gBAC7C,WAAW,CAAC,MAAM,CAAC,WAAY,CAAC,CAAC;YACnC,CAAC,CAAC,CAAC;QACL,CAAC;IACH,CAAC;IAfD,oDAeC;IAED,oCAA2C,MAAsB;QAC/D,MAAM,CAAC,aAAa,GAAG,MAAM,CAAC,aAAa,IAAI,MAAM,CAAC,QAAQ,CAAC;QAE/D,MAAM,CAAC,IAAI,CAAC;YACV,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QAC9B,CAAC,CAAC,CAAC;QACH,EAAE,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC;YACvB,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAA,WAAW;gBAC7C,WAAW,CAAC,MAAM,CAAC,WAAY,CAAC,CAAC;YACnC,CAAC,CAAC,CAAC;QACL,CAAC;IACH,CAAC;IAXD,gEAWC;IACD,oBAA2B,YAA8B;QACvD,YAAY,CAAC,OAAO,CAAC,UAAA,OAAO;YAC1B,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAA,OAAO;gBAC9B,OAAO,CAAC,OAAO,CAAC,CAAC;YACnB,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAND,gCAMC","sourcesContent":["\nimport { Casper, IPhantomCSS } from './PhantomCssInterface';\nimport { IRunVisualTest } from './IRunVisualTest';\ndeclare var phantomcss: IPhantomCSS;\ndeclare var casper: Casper;\n\nexport function defaultScreenshot(params: IRunVisualTest) {\n  let imageSelector = params.imageSelector || params.selector;\n\n  casper.then(() => {\n    phantomcss.screenshot(imageSelector, params.fileName + '_default');\n  });\n  if (params.childParams) {\n    params.childParams.commands.forEach(commandList => {\n      commandList(params.childParams!);\n    });\n  }\n}\n\nexport function mouseMoveScreenshot(params: IRunVisualTest) {\n  let imageSelector = params.imageSelector || params.selector;\n\n  casper.then(function () {\n    this.mouse.move(params.selector);\n    phantomcss.screenshot(imageSelector, params.fileName + '_mouseMove');\n  });\n  if (params.childParams) {\n    params.childParams.commands.forEach(commandList => {\n      commandList(params.childParams!);\n    });\n  }\n}\n\nexport function mouseDownScreenshot(params: IRunVisualTest) {\n  let imageSelector = params.imageSelector || params.selector;\n\n  casper.then(function () {\n    this.mouse.down(params.selector);\n    phantomcss.screenshot(imageSelector, params.fileName + '_mouseDown');\n  });\n  if (params.childParams) {\n    params.childParams.commands.forEach(commandList => {\n      commandList(params.childParams!);\n    });\n  }\n}\nexport function mouseClickScreenshot(params: IRunVisualTest) {\n  let imageSelector = params.imageSelector || params.selector;\n\n  casper.then(function () {\n    this.click(params.selector);\n    phantomcss.screenshot(imageSelector, params.fileName + '_mouseClick');\n  });\n  casper.then(function () {\n    this.click(params.selector);\n  });\n  if (params.childParams) {\n    params.childParams.commands.forEach(commandList => {\n      commandList(params.childParams!);\n    });\n  }\n}\n\nexport function mouseSingleClickScreenshot(params: IRunVisualTest) {\n  params.imageSelector = params.imageSelector || params.selector;\n\n  casper.then(function () {\n    this.click(params.selector);\n  });\n  if (params.childParams) {\n    params.childParams.commands.forEach(commandList => {\n      commandList(params.childParams!);\n    });\n  }\n}\nexport function testRunner(componentIds: IRunVisualTest[]) {\n  componentIds.forEach(element => {\n    element.commands.forEach(command => {\n      command(element);\n    });\n  });\n}"]}