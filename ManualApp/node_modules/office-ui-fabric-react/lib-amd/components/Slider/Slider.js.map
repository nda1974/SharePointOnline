{"version":3,"file":"Slider.js","sourceRoot":"../src/","sources":["components/Slider/Slider.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport {\n  BaseComponent,\n  KeyCodes,\n  autobind,\n  css,\n  getId,\n  getRTL,\n  getRTLSafeKeyCode\n} from '../../Utilities';\nimport { ISliderProps, ISlider } from './Slider.Props';\nimport { Label } from '../../Label';\nimport * as stylesImport from './Slider.scss';\nconst styles: any = stylesImport;\n\nexport interface ISliderState {\n  value?: number;\n  renderedValue?: number;\n}\n\nexport enum ValuePosition {\n  Previous = 0,\n  Next = 1\n}\n\nexport class Slider extends BaseComponent<ISliderProps, ISliderState> implements ISlider {\n  public static defaultProps: {} = {\n    step: 1,\n    min: 0,\n    max: 10,\n    showValue: true,\n    disabled: false,\n    vertical: false,\n    buttonProps: {}\n  };\n\n  public refs: {\n    [key: string]: React.ReactInstance,\n    root: HTMLElement,\n    sliderLine: HTMLElement,\n    thumb: HTMLElement\n  };\n\n  private _id: string;\n\n  constructor(props: ISliderProps) {\n    super(props);\n\n    this._warnMutuallyExclusive({\n      'value': 'defaultValue'\n    });\n\n    this._id = getId('Slider');\n\n    let value = props.value || props.defaultValue || props.min;\n\n    this.state = {\n      value: value,\n      renderedValue: value\n    };\n  }\n\n  /**\n   * Invoked when a component is receiving new props. This method is not called for the initial render.\n   */\n  public componentWillReceiveProps(newProps: ISliderProps): void {\n\n    if (newProps.value !== undefined) {\n      let value = Math.max(newProps.min as number, Math.min(newProps.max as number, newProps.value));\n\n      this.setState({\n        value: value,\n        renderedValue: value\n      });\n    }\n  }\n\n  public render(): React.ReactElement<{}> {\n    const {\n      ariaLabel,\n      className,\n      disabled,\n      label,\n      max,\n      min,\n      showValue,\n      buttonProps,\n      vertical\n    } = this.props;\n    const { value, renderedValue } = this.state;\n    const thumbOffsetPercent: number = (renderedValue! - min!) / (max! - min!) * 100;\n    const lengthString = vertical ? 'height' : 'width';\n    const onMouseDownProp: {} = disabled ? {} : { onMouseDown: this._onMouseDownOrTouchStart };\n    const onTouchStartProp: {} = disabled ? {} : { onTouchStart: this._onMouseDownOrTouchStart };\n    const onKeyDownProp: {} = disabled ? {} : { onKeyDown: this._onKeyDown };\n\n    return (\n      <div\n        className={ css('ms-Slider', styles.root, className, {\n          ['ms-Slider-enabled ' + styles.rootIsEnabled]: !disabled,\n          ['ms-Slider-disabled ' + styles.rootIsDisabled]: disabled,\n          ['ms-Slider-row ' + styles.rootIsHorizontal]: !vertical,\n          ['ms-Slider-column ' + styles.rootIsVertical]: vertical\n        }) }\n        ref='root'>\n        { label && (\n          <Label className={ styles.titleLabel } { ...ariaLabel ? {} : { 'htmlFor': this._id } }>\n            { label }\n          </Label>\n        ) }\n        <div className={ css('ms-Slider-container', styles.container) }>\n          <button\n            aria-valuenow={ value }\n            aria-valuemin={ min }\n            aria-valuemax={ max }\n            { ...onMouseDownProp }\n            { ...onTouchStartProp }\n            { ...onKeyDownProp }\n            { ...buttonProps }\n            className={ css(\n              'ms-Slider-slideBox',\n              styles.slideBox,\n              buttonProps!.className,\n              !!showValue && 'ms-Slider-showValue',\n              (renderedValue === value) && ('ms-Slider-showTransitions ' + styles.showTransitions)\n            ) }\n            id={ this._id }\n            disabled={ disabled }\n            type='button'\n            role='slider'\n          >\n            <div\n              ref='sliderLine'\n              className={ css('ms-Slider-line', styles.line) }\n            >\n              <span\n                ref='thumb'\n                className={ css('ms-Slider-thumb', styles.thumb) }\n                { ...ariaLabel ? { 'aria-label': ariaLabel } : {} }\n                style={ this._getThumbStyle(vertical, thumbOffsetPercent) }\n              />\n              <span\n                className={ css('ms-Slider-active', styles.lineContainer, styles.activeSection) }\n                style={ { [lengthString]: thumbOffsetPercent + '%' } }\n              />\n              <span\n                 className={ css('ms-Slider-inactive', styles.lineContainer, styles.inactiveSection) }\n                 style={ { [lengthString]: (100 - thumbOffsetPercent) + '%' } }\n              />\n            </div>\n          </button>\n          { showValue && <Label className={ css('ms-Slider-value', styles.valueLabel) }>{ value }</Label> }\n        </div>\n      </div>\n    ) as React.ReactElement<{}>;\n  }\n  public focus(): void {\n    if (this.refs.thumb) {\n      this.refs.thumb.focus();\n    }\n  }\n\n  public get value(): number | undefined {\n    return this.state.value;\n  }\n\n  private _getThumbStyle(vertical: boolean | undefined, thumbOffsetPercent: number): any {\n    let direction: string = vertical ? 'bottom' : (getRTL() ? 'right' : 'left');\n    return {\n      [direction]: thumbOffsetPercent + '%'\n    };\n  }\n\n  @autobind\n  private _onMouseDownOrTouchStart(event: MouseEvent | TouchEvent): void {\n    if (event.type === 'mousedown') {\n      this._events.on(window, 'mousemove', this._onMouseMoveOrTouchMove, true);\n      this._events.on(window, 'mouseup', this._onMouseUpOrTouchEnd, true);\n    } else if (event.type === 'touchstart') {\n      this._events.on(window, 'touchmove', this._onMouseMoveOrTouchMove, true);\n      this._events.on(window, 'touchend', this._onMouseUpOrTouchEnd, true);\n    }\n    this._onMouseMoveOrTouchMove(event, true);\n  }\n\n  @autobind\n  private _onMouseMoveOrTouchMove(event: MouseEvent | TouchEvent, suppressEventCancelation?: boolean): void {\n    const { max, min, step } = this.props;\n    const steps: number = (max! - min!) / step!;\n    const sliderPositionRect: ClientRect = this.refs.sliderLine.getBoundingClientRect();\n    const sliderLength: number = !this.props.vertical ? sliderPositionRect.width : sliderPositionRect.height;\n    const stepLength: number = sliderLength / steps;\n    let currentSteps: number | undefined;\n    let distance: number | undefined;\n\n    if (!this.props.vertical) {\n      let left: number | undefined = this._getPosition(event, this.props.vertical);\n      distance = getRTL() ? sliderPositionRect.right - left! : left! - sliderPositionRect.left;\n      currentSteps = distance / stepLength;\n    } else {\n      let bottom: number | undefined = this._getPosition(event, this.props.vertical);\n      distance = sliderPositionRect.bottom - bottom!;\n      currentSteps = distance / stepLength;\n    }\n\n    let currentValue: number | undefined;\n    let renderedValue: number | undefined;\n\n    // The value shouldn't be bigger than max or be smaller than min.\n    if (currentSteps! > Math.floor(steps)) {\n      renderedValue = currentValue = max as number;\n    } else if (currentSteps! < 0) {\n      renderedValue = currentValue = min as number;\n    } else {\n      renderedValue = min! + step! * currentSteps!;\n      currentValue = min! + step! * Math.round(currentSteps!);\n    }\n\n    this._updateValue(currentValue, renderedValue);\n\n    if (!suppressEventCancelation) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n\n  private _getPosition(event: MouseEvent | TouchEvent, vertical: boolean | undefined): number | undefined {\n    let currentPosition: number | undefined;\n    switch (event.type) {\n      case 'mousedown':\n      case 'mousemove':\n        currentPosition = !vertical ? (event as MouseEvent).clientX : (event as MouseEvent).clientY;\n        break;\n      case 'touchstart':\n      case 'touchmove':\n        currentPosition = !vertical ? (event as TouchEvent).touches[0].clientX : (event as TouchEvent).touches[0].clientY;\n        break;\n    }\n    return currentPosition;\n  }\n  private _updateValue(value: number, renderedValue: number) {\n    let valueChanged = value !== this.state.value;\n\n    this.setState({\n      value,\n      renderedValue\n    }, () => {\n      if (valueChanged && this.props.onChange) {\n        this.props.onChange(this.state.value as number);\n      }\n    });\n  }\n\n  @autobind\n  private _onMouseUpOrTouchEnd(): void {\n    // Synchronize the renderedValue to the actual value.\n    this.setState({\n      renderedValue: this.state.value\n    });\n\n    this._events.off();\n  }\n\n  @autobind\n  private _onKeyDown(event: KeyboardEvent): void {\n    let value: number | undefined = this.state.value;\n    const { max, min, step } = this.props;\n\n    let diff: number | undefined = 0;\n\n    switch (event.which) {\n      case getRTLSafeKeyCode(KeyCodes.left):\n      case KeyCodes.down:\n        diff = -(step as number);\n        break;\n      case getRTLSafeKeyCode(KeyCodes.right):\n      case KeyCodes.up:\n        diff = step;\n        break;\n\n      case KeyCodes.home:\n        value = min;\n        break;\n\n      case KeyCodes.end:\n        value = max;\n        break;\n\n      default:\n        return;\n    }\n\n    const newValue: number = Math.min(max as number, Math.max(min as number, value! + diff!));\n\n    this._updateValue(newValue, newValue);\n\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n}\n"]}