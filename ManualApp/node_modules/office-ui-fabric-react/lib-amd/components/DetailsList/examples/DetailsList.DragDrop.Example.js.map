{"version":3,"file":"DetailsList.DragDrop.Example.js","sourceRoot":"../src/","sources":["components/DetailsList/examples/DetailsList.DragDrop.Example.tsx"],"names":[],"mappings":"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","sourcesContent":["/* tslint:disable:no-unused-variable */\nimport * as React from 'react';\n/* tslint:enable:no-unused-variable */\nimport { Link } from 'office-ui-fabric-react/lib/Link';\nimport { TextField } from 'office-ui-fabric-react/lib/TextField';\nimport { DetailsList, Selection } from 'office-ui-fabric-react/lib/DetailsList';\nimport { IDetailsRowProps, DetailsRow, IColumn } from 'office-ui-fabric-react/lib/DetailsList';\nimport { MarqueeSelection } from 'office-ui-fabric-react/lib/MarqueeSelection';\nimport {\n  IDragDropHelper,\n  IDragDropEvents,\n  IDragDropOptions,\n  IDragDropContext\n} from 'office-ui-fabric-react/lib/utilities/dragdrop/interfaces';\nimport { createListItems } from '@uifabric/example-app-base';\nimport './DetailsList.DragDrop.Example.scss';\n\nlet _draggedItem: any = null;\nlet _draggedIndex: number = -1;\n\nexport class DetailsListDragDropExample extends React.Component<any, any> {\n  private _selection: Selection;\n\n  constructor() {\n    super();\n\n    this._onRenderItemColumn = this._onRenderItemColumn.bind(this);\n\n    this._selection = new Selection();\n\n    this.state = {\n      items: createListItems(10)\n    };\n  }\n\n  public render() {\n    let { items, selectionDetails } = this.state;\n\n    return (\n      <div className='detailsListDragDropExample'>\n        <div>{ selectionDetails }</div>\n        <MarqueeSelection selection={ this._selection }>\n          <DetailsList\n            setKey='items'\n            items={ items }\n            selection={ this._selection }\n            selectionPreservedOnEmptyClick={ true }\n            onItemInvoked={ (item) => { alert(`Item invoked: ${item.name}`); } }\n            onRenderItemColumn={ this._onRenderItemColumn }\n            dragDropEvents={ this._getDragDropEvents() }\n          />\n        </MarqueeSelection>\n      </div>\n    );\n  }\n\n  private _getDragDropEvents(): IDragDropEvents {\n    return {\n      canDrop: (dropContext?: IDragDropContext, dragContext?: IDragDropContext) => { return true; },\n      canDrag: (item?: any) => { return true; },\n      onDragEnter: (item?: any, event?: DragEvent) => { return 'dragEnter'; }, // return string is the css classes that will be added to the entering element.\n      onDragLeave: (item?: any, event?: DragEvent) => { return; },\n      onDrop: (item?: any, event?: DragEvent) => {\n        if (_draggedItem) {\n          this._insertBeforeItem(item);\n        }\n      },\n      onDragStart: (item?: any, itemIndex?: number, selectedItems?: any[], event?: MouseEvent) => {\n        _draggedItem = item;\n        _draggedIndex = itemIndex!;\n      },\n      onDragEnd: (item?: any, event?: DragEvent) => {\n        _draggedItem = null;\n        _draggedIndex = -1;\n      },\n    };\n  }\n\n  private _onRenderItemColumn(item: any, index: number, column: IColumn) {\n    if (column.key === 'name') {\n      return <Link data-selection-invoke={ true }>{ item[column.key] }</Link>;\n    }\n\n    return item[column.key];\n  }\n\n  private _insertBeforeItem(item: any) {\n    let draggedItems = this._selection.isIndexSelected(_draggedIndex) ? this._selection.getSelection() : [_draggedItem];\n\n    let items: any[] = this.state.items.filter((i: number) => draggedItems.indexOf(i) === -1);\n    let insertIndex = items.indexOf(item);\n\n    // if dragging/dropping on itself, index will be 0.\n    if (insertIndex === -1) {\n      insertIndex = 0;\n    }\n\n    items.splice(insertIndex, 0, ...draggedItems);\n\n    this.setState({ items: items });\n  }\n}\n"]}