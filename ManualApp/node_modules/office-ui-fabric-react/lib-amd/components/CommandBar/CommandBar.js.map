{"version":3,"file":"CommandBar.js","sourceRoot":"../src/","sources":["components/CommandBar/CommandBar.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport {\n  BaseComponent,\n  autobind,\n  buttonProperties,\n  anchorProperties,\n  css,\n  divProperties,\n  getId,\n  getNativeProps\n} from '../../Utilities';\nimport { ICommandBar, ICommandBarProps } from './CommandBar.Props';\nimport { FocusZone, FocusZoneDirection } from '../../FocusZone';\nimport { ContextualMenu, IContextualMenuProps, IContextualMenuItem, hasSubmenuItems } from '../../ContextualMenu';\nimport { DirectionalHint } from '../../common/DirectionalHint';\nimport {\n  Icon,\n  IconName,\n  IIconProps\n} from '../../Icon';\nimport { FontClassNames } from '../../Styling';\nimport * as stylesImport from './CommandBar.scss';\nconst styles: any = stylesImport;\n\nconst OVERFLOW_KEY = 'overflow';\nconst OVERFLOW_WIDTH = 41.5;\n\nexport interface ICommandBarState {\n  renderedItems?: IContextualMenuItem[];\n  renderedOverflowItems?: IContextualMenuItem[];\n  expandedMenuItemKey?: string;\n  expandedMenuId?: string;\n  contextualMenuProps?: IContextualMenuProps;\n  contextualMenuTarget?: HTMLElement;\n  renderedFarItems?: IContextualMenuItem[];\n}\n\nexport class CommandBar extends BaseComponent<ICommandBarProps, ICommandBarState> implements ICommandBar {\n  public static defaultProps: ICommandBarProps = {\n    items: [],\n    overflowItems: [],\n    farItems: []\n  };\n\n  public refs: {\n    [key: string]: React.ReactInstance;\n    commandSurface: HTMLElement;\n    farCommandSurface: HTMLElement;\n    commandBarRegion: HTMLElement;\n    searchSurface: HTMLElement;\n    focusZone: FocusZone;\n  };\n\n  private _id: string;\n  private _overflowWidth: number;\n  private _commandItemWidths: { [key: string]: number } | null;\n\n  constructor(props: ICommandBarProps) {\n    super(props);\n\n    this.state = this._getStateFromProps(props);\n\n    this._id = getId('CommandBar');\n  }\n\n  public componentDidMount() {\n    // Asynchronously update command bar layout to eliminate forced synchronous reflow\n    this._asyncMeasure();\n    this._events.on(window, 'resize', this._updateRenderedItems);\n  }\n\n  public componentWillReceiveProps(nextProps: ICommandBarProps) {\n    this.setState(this._getStateFromProps(nextProps));\n    this._commandItemWidths = null;\n  }\n\n  public componentDidUpdate(prevProps: ICommandBarProps, prevStates: ICommandBarState) {\n    if (!this._commandItemWidths) {\n      // Asynchronously update command bar layout to eliminate forced synchronous reflow\n      this._asyncMeasure();\n    }\n  }\n\n  public render() {\n    const { isSearchBoxVisible, searchPlaceholderText, className } = this.props;\n    const { renderedItems, contextualMenuProps, expandedMenuItemKey, expandedMenuId, renderedOverflowItems, contextualMenuTarget, renderedFarItems } = this.state;\n    let searchBox;\n\n    if (isSearchBoxVisible) {\n      searchBox = (\n        <div className={ css('ms-CommandBarSearch', styles.search) } ref='searchSurface'>\n          <input className={ css('ms-CommandBarSearch-input', styles.searchInput) } type='text' placeholder={ searchPlaceholderText } />\n          <div className={ css(\n            'ms-CommandBarSearch-iconWrapper ms-CommandBarSearch-iconSearchWrapper',\n            styles.searchIconWrapper, styles.searchIconSearchWrapper) }>\n            { Icon({ iconName: 'Search' }) }\n          </div>\n          <div className={ css(\n            'ms-CommandBarSearch-iconWrapper ms-CommandBarSearch-iconClearWrapper',\n            FontClassNames.small,\n            styles.searchIconWrapper,\n            styles.searchIconClearWrapper\n          ) }>\n            <Icon iconName='cancel' />\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div className={ css('ms-CommandBar', styles.root, className) } ref='commandBarRegion'>\n        { searchBox }\n        <FocusZone ref='focusZone' className={ styles.container } direction={ FocusZoneDirection.horizontal } role='menubar' >\n          <div className={ css('ms-CommandBar-primaryCommands', styles.primaryCommands) } ref='commandSurface'>\n            { renderedItems!.map((item, index) => (\n              this._renderItemInCommandBar(item, index, expandedMenuItemKey!)\n            )).concat((renderedOverflowItems && renderedOverflowItems.length) ? [\n              <div className={ css('ms-CommandBarItem', styles.item) } key={ OVERFLOW_KEY } ref={ OVERFLOW_KEY }>\n                <button\n                  type='button'\n                  id={ this._id + OVERFLOW_KEY }\n                  className={ css('ms-CommandBarItem-link', styles.itemLink, {\n                    ['is-expanded ' + styles.itemLinkIsExpanded]: (expandedMenuItemKey === OVERFLOW_KEY)\n                  }) }\n                  onClick={ this._onOverflowClick }\n                  role='menuitem'\n                  aria-expanded={ this.state.expandedMenuItemKey === OVERFLOW_KEY }\n                  aria-label={ this.props.elipisisAriaLabel || '' }\n                  aria-haspopup={ true }\n                  data-automation-id='commandBarOverflow'\n                >\n                  <Icon className={ css('ms-CommandBarItem-overflow', styles.itemOverflow) } iconName='more' />\n                </button>\n              </div>\n            ] : []) }\n          </div>\n          <div className={ css('ms-CommandBar-sideCommands', styles.sideCommands) } ref='farCommandSurface'>\n            { renderedFarItems!.map((item, index) => (\n              this._renderItemInCommandBar(item, index, expandedMenuItemKey!, true)\n            )) }\n          </div>\n        </FocusZone>\n        { (contextualMenuProps) ?\n          (<ContextualMenu\n            className={ css('ms-CommandBar-menuHost') }\n            directionalHint={ DirectionalHint.bottomAutoEdge }\n            { ...contextualMenuProps }\n            targetElement={ contextualMenuTarget }\n            labelElementId={ expandedMenuId }\n            onDismiss={ this._onContextMenuDismiss }\n          />\n          ) : (null)\n        }\n      </div >\n    );\n  }\n\n  public focus() {\n    this.refs.focusZone.focus();\n  }\n\n  private _renderItemInCommandBar(item: IContextualMenuItem, index: number, expandedMenuItemKey: string, isFarItem?: boolean) {\n    if (item.onRender) {\n      return <div className={ css('ms-CommandBarItem', styles.item, item.className) } key={ item.key } ref={ item.key }>\n        { item.onRender(item) }\n      </div>;\n    }\n\n    const itemKey = item.key || String(index);\n    const isLink = item.onClick || hasSubmenuItems(item);\n    const className = css(\n      isLink ? ('ms-CommandBarItem-link ' + styles.itemLink) : ('ms-CommandBarItem-text ' + styles.itemText),\n      !item.name && ('ms-CommandBarItem--noName ' + styles.itemLinkIsNoName),\n      (expandedMenuItemKey === item.key) && ('is-expanded ' + styles.itemLinkIsExpanded)\n    );\n    let hasIcon = !!item.icon || !!item.iconProps;\n\n    return <div className={ css('ms-CommandBarItem', styles.item, item.className) } key={ itemKey } ref={ itemKey }>\n      { (() => {\n        if (isLink) {\n          return <button\n            { ...getNativeProps(item, buttonProperties) }\n            id={ this._id + item.key }\n            className={ className }\n            onClick={ (ev) => this._onItemClick(ev, item) }\n            data-command-key={ itemKey }\n            aria-haspopup={ hasSubmenuItems(item) }\n            aria-expanded={ hasSubmenuItems(item) ? expandedMenuItemKey === item.key : undefined }\n            role='menuitem'\n            aria-label={ item.ariaLabel }\n          >\n            { (hasIcon) ? this._renderIcon(item) : (null) }\n            { (!!item.name) && (\n              <span\n                className={ css('ms-CommandBarItem-commandText', styles.itemCommandText) }\n              >\n                { item.name }\n              </span>\n            ) }\n            { hasSubmenuItems(item) ? (\n              <Icon className={ css('ms-CommandBarItem-chevronDown', styles.itemChevronDown) } iconName='ChevronDown' />\n            ) : (null) }\n          </button>;\n        } else if (item.href) {\n          return <a\n            { ...getNativeProps(item, anchorProperties) }\n            id={ this._id + item.key }\n            className={ className }\n            href={ item.href }\n            data-command-key={ itemKey }\n            aria-haspopup={ hasSubmenuItems(item) }\n            role='menuitem'\n            aria-label={ item.ariaLabel }\n          >\n            { (hasIcon) ? this._renderIcon(item) : (null) }\n            { (!!item.name) && (\n              <span\n                className={ css('ms-CommandBarItem-commandText', styles.itemCommandText) }\n              >\n                { item.name }\n              </span>\n            ) }\n          </a>;\n        } else {\n          return <div\n            { ...getNativeProps(item, divProperties) }\n            id={ this._id + item.key }\n            className={ className }\n            data-command-key={ itemKey }\n            aria-haspopup={ hasSubmenuItems(item) }\n          >\n            { (hasIcon) ? this._renderIcon(item) : (null) }\n            { (!!item.name) && (\n              <span\n                className={ css('ms-CommandBarItem-commandText', styles.itemCommandText) }\n                aria-hidden='true'\n                role='presentation'\n              >\n                { item.name }\n              </span>\n            ) }\n          </div>;\n        }\n      })() }\n    </div>;\n  }\n\n  private _renderIcon(item: IContextualMenuItem) {\n    // Only present to allow continued use of item.icon which is deprecated.\n    let iconProps: IIconProps = item.iconProps ? item.iconProps : {\n      iconName: item.icon as IconName\n    };\n    // Use the default icon color for the known icon names\n    let iconColorClassName = iconProps.iconName === 'None' ? '' : ('ms-CommandBarItem-iconColor ' + styles.itemIconColor);\n    let iconClassName = css('ms-CommandBarItem-icon', styles.itemIcon, iconColorClassName, iconProps.className);\n\n    return <Icon { ...iconProps } className={ iconClassName } />;\n  }\n\n  private _asyncMeasure() {\n    this._async.requestAnimationFrame(() => {\n      this._updateItemMeasurements();\n      this._updateRenderedItems();\n    });\n  }\n\n  private _updateItemMeasurements() {\n    // the generated width for overflow is 35 in chrome, 38 in IE, but the actual value is 41.5\n    if (this.refs[OVERFLOW_KEY] || (this.props.overflowItems && this.props.overflowItems.length)) {\n      this._overflowWidth = OVERFLOW_WIDTH;\n    } else {\n      this._overflowWidth = 0;\n    }\n\n    if (!this._commandItemWidths) {\n      this._commandItemWidths = {};\n    }\n\n    for (let i = 0; i < this.props.items.length; i++) {\n      let item = this.props.items[i];\n\n      if (!this._commandItemWidths[item.key]) {\n        let el = this.refs[item.key] as HTMLElement;\n\n        if (el) {\n          this._commandItemWidths[item.key] = el.getBoundingClientRect().width;\n        }\n      }\n    }\n  }\n\n  private _updateRenderedItems() {\n    let { items, overflowItems } = this.props;\n    let commandSurface = this.refs.commandSurface;\n    let farCommandSurface = this.refs.farCommandSurface;\n    let commandBarRegion = this.refs.commandBarRegion;\n    let searchSurface = this.refs.searchSurface;\n    let renderedItems = [...items];\n    let renderedOverflowItems = overflowItems;\n    let consumedWidth = 0;\n    let isOverflowVisible = overflowItems && overflowItems.length;\n\n    let style = window.getComputedStyle(commandSurface);\n    let availableWidth = commandBarRegion.clientWidth - parseInt(style.marginLeft!, 10) - parseInt(style.marginRight!, 10);\n    if (searchSurface) {\n      availableWidth -= searchSurface.getBoundingClientRect().width;\n    }\n    if (farCommandSurface) {\n      availableWidth -= farCommandSurface.getBoundingClientRect().width;\n    }\n\n    if (isOverflowVisible) {\n      availableWidth -= this._overflowWidth;\n    }\n\n    for (let i = 0; i < renderedItems.length; i++) {\n      let item = renderedItems[i];\n      let itemWidth = this._commandItemWidths![item.key];\n\n      if ((consumedWidth + itemWidth) >= availableWidth) {\n        if (i > 0 && !isOverflowVisible && (availableWidth - consumedWidth) < OVERFLOW_WIDTH) {\n          i--;\n        }\n\n        renderedOverflowItems = renderedItems.splice(i).concat(overflowItems!);\n        break;\n      } else {\n        consumedWidth += itemWidth;\n      }\n\n    }\n\n    let renderedContextualMenuProps = this._getContextualMenuPropsAfterUpdate(\n      renderedItems.concat(this.state.renderedFarItems!),\n      renderedOverflowItems!);\n\n    this.setState({\n      renderedItems: renderedItems,\n      renderedOverflowItems: renderedOverflowItems,\n      expandedMenuItemKey: renderedContextualMenuProps ? this.state.expandedMenuItemKey : undefined,\n      contextualMenuProps: renderedContextualMenuProps!,\n      contextualMenuTarget: renderedContextualMenuProps ? this.state.contextualMenuTarget : undefined\n    });\n  }\n\n  private _onItemClick(ev: React.MouseEvent<HTMLButtonElement>, item: IContextualMenuItem) {\n    if (item.key === this.state.expandedMenuItemKey || !hasSubmenuItems(item)) {\n      this._onContextMenuDismiss();\n    } else {\n      this.setState({\n        expandedMenuId: ev.currentTarget.id,\n        expandedMenuItemKey: item.key,\n        contextualMenuProps: this._getContextualMenuPropsFromItem(item),\n        contextualMenuTarget: ev.currentTarget\n      });\n    }\n    if (item.onClick) {\n      item.onClick(ev, item);\n    }\n  }\n\n  @autobind\n  private _onOverflowClick(ev: React.MouseEvent<HTMLButtonElement>) {\n    if (this.state.expandedMenuItemKey === OVERFLOW_KEY) {\n      this._onContextMenuDismiss();\n    } else {\n      this.setState({\n        expandedMenuId: ev.currentTarget.id,\n        expandedMenuItemKey: OVERFLOW_KEY,\n        contextualMenuProps: { items: this.state.renderedOverflowItems! },\n        contextualMenuTarget: ev.currentTarget\n      });\n    }\n  }\n\n  @autobind\n  private _onContextMenuDismiss(ev?: any) {\n    if (!ev || !ev.relatedTarget || !this.refs.commandSurface.contains(ev.relatedTarget as HTMLElement)) {\n      let { contextualMenuProps } = this.state;\n\n      if (contextualMenuProps && contextualMenuProps.onDismiss) {\n        this.state.contextualMenuProps!.onDismiss!(ev);\n      }\n\n      this.setState({\n        expandedMenuItemKey: undefined,\n        contextualMenuProps: undefined,\n        contextualMenuTarget: undefined\n      });\n    } else {\n      ev.stopPropagation();\n      ev.preventDefault();\n    }\n  }\n\n  private _getStateFromProps(nextProps: ICommandBarProps): ICommandBarState {\n    return {\n      renderedItems: nextProps.items || [],\n      renderedOverflowItems: undefined,\n      contextualMenuProps: this._getContextualMenuPropsAfterUpdate(\n        nextProps.items.concat(nextProps.farItems!),\n        nextProps.overflowItems!)!,\n      renderedFarItems: nextProps.farItems || undefined\n    };\n  }\n\n  private _getContextualMenuPropsAfterUpdate(renderedItems: IContextualMenuItem[], overflowItems: IContextualMenuItem[]) {\n    if (this.state && this.state.expandedMenuItemKey) {\n      if (this.state.expandedMenuItemKey === OVERFLOW_KEY) {\n        // Keep the overflow menu open\n        return { items: overflowItems };\n      } else {\n        // Find the currently open key in the new props\n        let matchingItem = renderedItems.filter(item => item.key === this.state.expandedMenuItemKey);\n\n        if (matchingItem.length === 1) {\n          return this._getContextualMenuPropsFromItem(matchingItem[0]);\n        }\n      }\n    }\n\n    return null;\n  }\n\n  private _getContextualMenuPropsFromItem(item: IContextualMenuItem) {\n    return item.subMenuProps || (item.items && { items: item.items });\n  }\n}\n"]}